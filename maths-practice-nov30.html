<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Maths Practice - Sunday 30th November | CRGS Prep</title>
  <style>
    :root {
      --bg: #f0f4f8;
      --card: #fff;
      --primary: #3b82f6;
      --primary-dark: #2563eb;
      --success: #10b981;
      --error: #ef4444;
      --muted: #6b7280;
      --accent: #111827;
      --border: #e5e7eb;
    }
    
    * {
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      background: var(--bg);
      color: var(--accent);
      padding: 1rem;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    }
    
    header {
      text-align: center;
      margin-bottom: 2rem;
      padding-bottom: 1rem;
      border-bottom: 3px solid var(--primary);
    }
    
    h1 {
      margin: 0;
      color: var(--primary);
      font-size: 2rem;
    }
    
    .exam-info {
      margin-top: 0.5rem;
      color: var(--muted);
      font-size: 1rem;
    }
    
    .timer {
      background: var(--primary);
      color: white;
      padding: 1rem;
      border-radius: 8px;
      text-align: center;
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 1.5rem;
      position: sticky;
      top: 1rem;
      z-index: 100;
    }
    
    .timer.warning {
      background: var(--error);
      animation: pulse 1s infinite;
    }
    
    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
    }
    
    .page-section {
      margin-bottom: 2rem;
      padding: 1.5rem;
      border: 2px solid var(--border);
      border-radius: 12px;
      background: #fafbfc;
    }
    
    .page-header {
      font-weight: bold;
      color: var(--primary);
      margin-bottom: 1rem;
      font-size: 1.2rem;
    }
    
    .question {
      margin-bottom: 1.5rem;
    }
    
    .question-number {
      font-weight: bold;
      color: var(--accent);
      margin-bottom: 0.5rem;
    }
    
    .question-text {
      margin-bottom: 0.8rem;
      line-height: 1.6;
    }
    
    .subquestion {
      margin-left: 1.5rem;
      margin-bottom: 0.8rem;
    }
    
    input[type="text"], input[type="number"], textarea {
      padding: 0.5rem;
      border: 2px solid var(--border);
      border-radius: 6px;
      font-size: 1rem;
      font-family: inherit;
      width: 150px;
      transition: border-color 0.2s;
    }
    
    input[type="text"]:focus, input[type="number"]:focus, textarea:focus {
      outline: none;
      border-color: var(--primary);
    }
    
    textarea {
      width: 100%;
      min-height: 80px;
      resize: vertical;
    }
    
    .wide-input {
      width: 250px;
    }
    
    .answer-box {
      display: inline-block;
      padding: 0.3rem 0.6rem;
      background: white;
      border: 2px dashed var(--border);
      border-radius: 4px;
      min-width: 120px;
      text-align: center;
    }
    
    .btn {
      padding: 1rem 2rem;
      border-radius: 12px;
      border: none;
      font-size: 1.1rem;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 0.5rem;
    }
    
    .btn-primary {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: white;
    }
    
    .btn-primary:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
    }
    
    .btn-secondary {
      background: var(--muted);
      color: white;
    }
    
    .btn-secondary:hover {
      background: #4b5563;
    }
    
    .start-screen {
      text-align: center;
      padding: 2rem;
    }
    
    .exam-container {
      display: none;
    }
    
    .exam-container.active {
      display: block;
    }
    
    .instructions {
      background: #fff3cd;
      border: 2px solid #ffc107;
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
    }
    
    .instructions ul {
      margin: 0.5rem 0;
      padding-left: 1.5rem;
    }
    
    .action-buttons {
      text-align: center;
      margin-top: 2rem;
      padding-top: 1.5rem;
      border-top: 2px solid var(--border);
    }
    
    @media print {
      .timer, .action-buttons, .instructions {
        display: none;
      }
      
      body {
        background: white;
      }
      
      .container {
        box-shadow: none;
        padding: 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>üî¢ CRGS Maths Practice Test</h1>
      <p class="exam-info">Sunday, 30th November 2024 | 60 minutes | 60 marks</p>
    </header>

    <!-- Start Screen -->
    <div id="startScreen" class="start-screen">
      <h2>Mock CSSE-Style Mathematics Paper</h2>
      
      <div class="instructions">
        <h3 style="margin-top: 0;">Instructions:</h3>
        <ul style="text-align: left;">
          <li>You have <strong>60 minutes</strong> to complete this paper</li>
          <li>Answer <strong>all questions</strong> in the spaces provided</li>
          <li>Show your working where appropriate</li>
          <li>Calculators are <strong>not permitted</strong></li>
          <li>Write clearly and check your answers</li>
          <li>Total marks available: <strong>60</strong></li>
          <li><strong>Tip:</strong> Click "Print/Save as PDF" to download a blank copy to practice on paper!</li>
        </ul>
      </div>
      
      <p style="font-size: 1.1rem; margin: 1.5rem 0;">When you're ready to begin, click the button below. The timer will start automatically.</p>
      
      <button class="btn btn-primary" onclick="startExam()">Start Exam</button>
      <button class="btn btn-secondary" onclick="window.print()">üìÑ Print/Save as PDF</button>
      <button class="btn btn-secondary" onclick="location.href='11plus.html'">Back to Practice Quiz</button>
    </div>

    <!-- Exam Container -->
    <div id="examContainer" class="exam-container">
      <div id="timer" class="timer">Time Remaining: 60:00</div>

      <!-- Page 1 -->
      <div class="page-section">
        <div class="page-header">Page 1 ‚Äî (7 marks)</div>
        
        <div class="question">
          <div class="question-number">1. Calculate:</div>
          
          <div class="subquestion">
            (a) 4289 + 578 = <input type="text" id="q1a">
          </div>
          
          <div class="subquestion">
            (b) 6042 ‚Äì 495 = <input type="text" id="q1b">
          </div>
          
          <div class="subquestion">
            (c) 576 √∑ 9 = <input type="text" id="q1c">
          </div>
          
          <div class="subquestion">
            (d) 2/5 + 3/4 = <input type="text" id="q1d"> (Give answer as a simplified fraction)
          </div>
          
          <div class="subquestion">
            (e) (24 √∑ 4) √ó (35 √∑ 7) = <input type="text" id="q1e">
          </div>
          
          <div class="subquestion">
            (f) 3/5 √∑ 2/3 = <input type="text" id="q1f">
          </div>
          
          <div class="subquestion">
            (g) Write 0.625 as a fraction in simplest form. <input type="text" id="q1g">
          </div>
        </div>
      </div>

      <!-- Page 2 -->
      <div class="page-section">
        <div class="page-header">Page 2 ‚Äî (5 marks)</div>
        
        <div class="question">
          <div class="question-number">2.</div>
          
          <div class="subquestion">
            (a) How many centimetres are there in 3.65 metres?<br>
            <input type="text" id="q2a"> cm
          </div>
          
          <div class="subquestion">
            (b) A rectangle has area 560 m¬≤. Its length is 28 m.<br>
            What is its width?<br>
            Width = <input type="text" id="q2b"> m
          </div>
          
          <div class="subquestion">
            (c) Find the mean of: 3/4, 5/6, 2/3<br>
            Answer: <input type="text" id="q2c">
          </div>
          
          <div class="subquestion">
            (d) A shop sells markers in packets of 15.<br>
            If a class needs 187 markers, how many full packets must be bought?<br>
            <input type="text" id="q2d"> packets
          </div>
          
          <div class="subquestion">
            (e) A girl saves the same amount each week. After 9 weeks she has saved ¬£72.<br>
            How much does she save each week?<br>
            ¬£<input type="text" id="q2e">
          </div>
        </div>
      </div>

      <!-- Page 3 -->
      <div class="page-section">
        <div class="page-header">Page 3 ‚Äî (6 marks)</div>
        
        <div class="question">
          <div class="question-text">In a game, a touchdown is worth 7 points and a field goal is worth 3 points.</div>
          
          <div class="subquestion">
            (a) What is the lowest score that is impossible to achieve?<br>
            <input type="text" id="q3a">
          </div>
          
          <div class="subquestion">
            (b) Write a score that can be achieved in two different ways.<br>
            Score = <input type="text" id="q3b">
          </div>
          
          <div class="subquestion">
            (c) Find one way to score 41 points using any number of touchdowns and field goals.<br>
            Touchdowns: <input type="text" id="q3c1" style="width: 80px;">
            Field goals: <input type="text" id="q3c2" style="width: 80px;">
          </div>
          
          <div class="subquestion">
            (d) If Y = 4X and Z = X ‚Äì 5, and X + Y + Z = 55, find the value of X.<br>
            X = <input type="text" id="q3d">
          </div>
          
          <div class="subquestion">
            (e) Find Z.<br>
            Z = <input type="text" id="q3e">
          </div>
          
          <div class="subquestion">
            (f) Find Y.<br>
            Y = <input type="text" id="q3f">
          </div>
        </div>
      </div>

      <!-- Page 4 -->
      <div class="page-section">
        <div class="page-header">Page 4 ‚Äî (6 marks)</div>
        
        <div class="question">
          <div class="question-number">4. Formula machines</div>
          <div class="question-text">A machine works as follows: <strong>Multiply by 4 ‚Üí add 15 ‚Üí divide by 3</strong></div>
          
          <div class="subquestion">
            (a) Input = 27<br>
            Output = <input type="text" id="q4a">
          </div>
          
          <div class="subquestion">
            (b) Output = 21<br>
            What was the input? <input type="text" id="q4b">
          </div>
          
          <div class="subquestion">
            (c) Find a negative number you can input so that the output equals the input.<br>
            Input = <input type="text" id="q4c">
          </div>
        </div>
        
        <div class="question">
          <div class="question-number">5. Table of values</div>
          <div class="question-text">Complete the table for the formula 6n ‚Äì 7:</div>
          
          <table style="border-collapse: collapse; margin: 1rem 0;">
            <tr>
              <th style="border: 1px solid var(--border); padding: 0.5rem; background: var(--bg);">n</th>
              <th style="border: 1px solid var(--border); padding: 0.5rem; background: var(--bg);">6n ‚Äì 7</th>
            </tr>
            <tr>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">1</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem;"><input type="text" id="q5a" style="width: 100%;"></td>
            </tr>
            <tr>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">3</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem;"><input type="text" id="q5b" style="width: 100%;"></td>
            </tr>
            <tr>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">8</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem;"><input type="text" id="q5c" style="width: 100%;"></td>
            </tr>
            <tr>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">12</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem;"><input type="text" id="q5d" style="width: 100%;"></td>
            </tr>
          </table>
        </div>
      </div>

      <!-- Page 5 -->
      <div class="page-section">
        <div class="page-header">Page 5 ‚Äî (5 marks)</div>
        
        <div class="question">
          <div class="question-number">6. Rounding</div>
          <div class="question-text">M and N are whole numbers.</div>
          <div class="question-text">M rounds to 560 to the nearest 10</div>
          <div class="question-text">N rounds to 420 to the nearest 10</div>
          
          <div class="subquestion">
            (a) Largest possible value of M = <input type="text" id="q6a">
          </div>
          
          <div class="subquestion">
            (b) Smallest possible value of N = <input type="text" id="q6b">
          </div>
          
          <div class="subquestion">
            (c) Largest possible value of M + N = <input type="text" id="q6c">
          </div>
          
          <div class="subquestion">
            (d) Smallest possible value of M ‚Äì N = <input type="text" id="q6d">
          </div>
        </div>
        
        <div class="question">
          <div class="question-number">7. Petrol question</div>
          <div class="question-text">A car uses 850 cm¬≥ of fuel to travel 12 km.</div>
          
          <div class="subquestion">
            (a) How far can it travel on 3400 cm¬≥?<br>
            <input type="text" id="q7a"> km
          </div>
          
          <div class="subquestion">
            (b) How much fuel (in litres) is needed for 60 km?<br>
            (1 litre = 1000 cm¬≥)<br>
            <input type="text" id="q7b"> litres
          </div>
        </div>
      </div>

      <!-- Page 6 -->
      <div class="page-section">
        <div class="page-header">Page 6 ‚Äî (5 marks)</div>
        
        <div class="question">
          <div class="question-number">8. Averages</div>
          <div class="question-text">A boy plays a game. His average score for 5 attempts is 18.</div>
          
          <div class="subquestion">
            (a) What is the total of his first 5 attempts?<br>
            <input type="text" id="q8a">
          </div>
          
          <div class="subquestion">
            (b) On the 6th attempt he scores 33.<br>
            What is his new average?<br>
            <input type="text" id="q8b">
          </div>
        </div>
        
        <div class="question">
          <div class="question-number">9. Angles</div>
          
          <div class="subquestion">
            (a) In an isosceles triangle, two sides are equal. If angle A = 68¬∞, and sides A and B are equal, find angle C.<br>
            Angle C = <input type="text" id="q9a"> ¬∞
          </div>
          
          <div class="subquestion">
            (b) If angle B = 62¬∞ and C = 74¬∞, find angle A.<br>
            Angle A = <input type="text" id="q9b"> ¬∞
          </div>
          
          <div class="subquestion">
            (c) Three lines meet at a point. Two angles shown are 110¬∞ and 95¬∞. Find angle x.<br>
            x = <input type="text" id="q9c"> ¬∞
          </div>
        </div>
      </div>

      <!-- Page 7 -->
      <div class="page-section">
        <div class="page-header">Page 7 ‚Äî (6 marks)</div>
        
        <div class="question">
          <div class="question-number">10. True or false</div>
          
          <div class="subquestion">
            (a) All multiples of 6 are even.
            <select id="q10a" style="padding: 0.5rem; border: 2px solid var(--border); border-radius: 6px;">
              <option value="">Select...</option>
              <option value="true">True</option>
              <option value="false">False</option>
            </select>
          </div>
          
          <div class="subquestion">
            (b) Some square numbers are also triangular numbers.
            <select id="q10b" style="padding: 0.5rem; border: 2px solid var(--border); border-radius: 6px;">
              <option value="">Select...</option>
              <option value="true">True</option>
              <option value="false">False</option>
            </select>
          </div>
          
          <div class="subquestion">
            (c) The mean of two even numbers is always even.
            <select id="q10c" style="padding: 0.5rem; border: 2px solid var(--border); border-radius: 6px;">
              <option value="">Select...</option>
              <option value="true">True</option>
              <option value="false">False</option>
            </select>
          </div>
          
          <div class="subquestion">
            (d) The product of two odd numbers is always odd.
            <select id="q10d" style="padding: 0.5rem; border: 2px solid var(--border); border-radius: 6px;">
              <option value="">Select...</option>
              <option value="true">True</option>
              <option value="false">False</option>
            </select>
          </div>
        </div>
        
        <div class="question">
          <div class="question-number">11. Money</div>
          <div class="question-text">A bicycle costs ¬£180. In a sale it is reduced by 15%.<br>
          A voucher gives a further 10% off the sale price.</div>
          
          <div class="subquestion">
            (a) Sale price before voucher discount = ¬£<input type="text" id="q11a">
          </div>
          
          <div class="subquestion">
            (b) Final price = ¬£<input type="text" id="q11b">
          </div>
        </div>
      </div>

      <!-- Page 8 -->
      <div class="page-section">
        <div class="page-header">Page 8 ‚Äî (5 marks)</div>
        
        <div class="question">
          <div class="question-text">The chart shows the number of books read by students in a week:</div>
          <div class="question-text">Mon: 6, Tue: 10, Wed: 8, Thu: 12, Fri: 9, Sat: 15, Sun: 18</div>
          
          <div class="question-number">12.</div>
          
          <div class="subquestion">
            (a) Total books read from Mon‚ÄìFri = <input type="text" id="q12a">
          </div>
          
          <div class="subquestion">
            (b) Mean books read for Thu, Fri, Sat = <input type="text" id="q12b">
          </div>
          
          <div class="subquestion">
            (c) Each weekday book earns 2 points and each weekend book earns 3 points.<br>
            Total points for whole week = <input type="text" id="q12c">
          </div>
        </div>
        
        <div class="question">
          <div class="question-number">13. Percentages</div>
          
          <div class="subquestion">
            (a) Find 45% of ¬£240.<br>
            ¬£<input type="text" id="q13a">
          </div>
          
          <div class="subquestion">
            (b) 15% of X = 36<br>
            Find X.<br>
            X = <input type="text" id="q13b">
          </div>
        </div>
      </div>

      <!-- Page 9 -->
      <div class="page-section">
        <div class="page-header">Page 9 ‚Äî (6 marks)</div>
        
        <div class="question">
          <div class="question-number">14. Sequences</div>
          
          <div class="subquestion">
            (a) What is the next number in the sequence: 2, 5, 11, 23, 47, ___<br>
            <input type="text" id="q14a">
          </div>
          
          <div class="subquestion">
            (b) The nth term of a sequence is 5n + 3.<br>
            What is the 20th term?<br>
            <input type="text" id="q14b">
          </div>
          
          <div class="subquestion">
            (c) A sequence starts: 3, 7, 11, 15, 19...<br>
            Write a formula for the nth term.<br>
            <input type="text" id="q14c" class="wide-input">
          </div>
        </div>
        
        <div class="question">
          <div class="question-number">15. Shapes</div>
          
          <div class="subquestion">
            (a) How many faces does a triangular prism have?<br>
            <input type="text" id="q15a">
          </div>
          
          <div class="subquestion">
            (b) A regular hexagon has a perimeter of 48cm.<br>
            What is the length of one side?<br>
            <input type="text" id="q15b"> cm
          </div>
          
          <div class="subquestion">
            (c) How many lines of symmetry does a regular octagon have?<br>
            <input type="text" id="q15c">
          </div>
        </div>
      </div>

      <!-- Page 10 -->
      <div class="page-section">
        <div class="page-header">Page 10 ‚Äî (4 marks)</div>
        
        <div class="question">
          <div class="question-text"><strong>A train timetable:</strong></div>
          
          <table style="border-collapse: collapse; margin: 1rem 0; width: 100%;">
            <tr>
              <th style="border: 1px solid var(--border); padding: 0.5rem; background: var(--bg);">Station</th>
              <th style="border: 1px solid var(--border); padding: 0.5rem; background: var(--bg);">Morning</th>
              <th style="border: 1px solid var(--border); padding: 0.5rem; background: var(--bg);">Afternoon</th>
            </tr>
            <tr>
              <td style="border: 1px solid var(--border); padding: 0.5rem;">Oakville</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">08:15</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">13:42</td>
            </tr>
            <tr>
              <td style="border: 1px solid var(--border); padding: 0.5rem;">Riverside</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">08:58</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">14:20</td>
            </tr>
            <tr>
              <td style="border: 1px solid var(--border); padding: 0.5rem;">Brookhaven</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">09:37</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">15:08</td>
            </tr>
            <tr>
              <td style="border: 1px solid var(--border); padding: 0.5rem;">Hilltop</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">10:22</td>
              <td style="border: 1px solid var(--border); padding: 0.5rem; text-align: center;">15:55</td>
            </tr>
          </table>
          
          <div class="question-number">16.</div>
          
          <div class="subquestion">
            (a) Time from Oakville to Hilltop (morning):<br>
            <input type="text" id="q16a1" style="width: 60px;"> hours
            <input type="text" id="q16a2" style="width: 60px;"> minutes
          </div>
          
          <div class="subquestion">
            (b) How much longer does the afternoon train take from Riverside to Brookhaven than the morning train?<br>
            <input type="text" id="q16b"> minutes
          </div>
          
          <div class="subquestion">
            (c) If someone takes the morning train to Brookhaven and waits for the afternoon train back to Oakville, how long can they spend in Brookhaven?<br>
            <input type="text" id="q16c1" style="width: 60px;"> hours
            <input type="text" id="q16c2" style="width: 60px;"> minutes
          </div>
          
          <div class="subquestion">
            (d) Express trains reduce the Hilltop ‚Üí Oakville afternoon journey by 20%.<br>
            Original time is from 15:55 back to 13:42 (2 hours 13 minutes = 133 minutes).<br>
            New journey time = <input type="text" id="q16d"> minutes
          </div>
        </div>
      </div>

      <!-- Page 11 -->
      <div class="page-section">
        <div class="page-header">Page 11 ‚Äî (3 marks)</div>
        
        <div class="question">
          <div class="question-number">17. Algebra</div>
          
          <div class="subquestion">
            (a) These shapes have equal perimeter. Find x.<br>
            Shape 1: sides (x + 2), (x + 2), (4x ‚Äì 4), (4x ‚Äì 4)<br>
            Shape 2: all sides = 19<br>
            x = <input type="text" id="q17a">
          </div>
          
          <div class="subquestion">
            (b) These rectangles have equal area. Find y.<br>
            Rectangle 1: 6 √ó (4y)<br>
            Rectangle 2: 18 √ó 12<br>
            y = <input type="text" id="q17b">
          </div>
          
          <div class="subquestion">
            (c) Solve: 7m ‚Äì 5 = 6m + 11<br>
            m = <input type="text" id="q17c">
          </div>
        </div>
      </div>

      <!-- Page 12 -->
      <div class="page-section">
        <div class="page-header">Page 12 ‚Äî (7 marks)</div>
        
        <div class="question">
          <div class="question-number">18. Problem solving</div>
          
          <div class="subquestion">
            (a) Emma multiplies a number by 23 and gets 391.<br>
            What was the original number?<br>
            <input type="text" id="q18a">
          </div>
          
          <div class="subquestion">
            (b) Jack squares his number and gets the same as when he multiplies it by 15.<br>
            What is his positive number?<br>
            <input type="text" id="q18b">
          </div>
        </div>
        
        <div class="question">
          <div class="question-number">19. Fractions and decimals</div>
          
          <div class="subquestion">
            (a) Convert 7/8 to a decimal.<br>
            <input type="text" id="q19a">
          </div>
          
          <div class="subquestion">
            (b) Which is larger: 5/7 or 3/4?<br>
            <input type="text" id="q19b">
          </div>
          
          <div class="subquestion">
            (c) Arrange in order from smallest to largest: 0.6, 2/3, 5/8<br>
            <input type="text" id="q19c" class="wide-input">
          </div>
        </div>
        
        <div class="question">
          <div class="question-number">20. Challenge</div>
          
          <div class="subquestion">
            (a) A number is divided by 8 and then 12 is added. The result is 27.<br>
            What was the original number?<br>
            <input type="text" id="q20a">
          </div>
          
          <div class="subquestion">
            (b) Write the missing digit: 5_4 is divisible by both 6 and 9.<br>
            <input type="text" id="q20b" style="width: 60px;">
          </div>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button class="btn btn-primary" onclick="finishExam()">Finish & Review</button>
        <button class="btn btn-secondary" onclick="window.print()">üìÑ Print/Save as PDF</button>
        <button class="btn btn-secondary" onclick="if(confirm('Are you sure? Your answers will be lost.')) location.href='11plus.html'">Exit</button>
      </div>
    </div>
  </div>

  <script>
    let timeRemaining = 60 * 60; // 60 minutes in seconds
    let timerInterval;
    
    // Answer key
    const answers = {
      // Page 1 (7 marks)
      q1a: ["4867"],
      q1b: ["5547"],
      q1c: ["64"],
      q1d: ["23/20", "1 3/20", "1.15"],
      q1e: ["30"],
      q1f: ["9/10", "0.9"],
      q1g: ["5/8"],
      
      // Page 2 (5 marks)
      q2a: ["365"],
      q2b: ["20"],
      q2c: ["3/4", "0.75"],
      q2d: ["13"],
      q2e: ["8"],
      
      // Page 3 (6 marks)
      q3a: ["11"],
      q3b: ["21", "24", "27", "30", "33", "36", "39", "42"], // Many possible answers
      q3c1: ["5"], // 5 touchdowns = 35, 2 field goals = 6, total = 41
      q3c2: ["2"],
      q3d: ["10"], // X + 4X + (X-5) = 55, 6X - 5 = 55, 6X = 60, X = 10
      q3e: ["5"], // Z = X - 5 = 10 - 5 = 5
      q3f: ["40"], // Y = 4X = 4(10) = 40
      
      // Page 4 (6 marks) - Machine: √ó4, +15, √∑3
      q4a: ["41"], // (27√ó4 + 15)/3 = (108+15)/3 = 123/3 = 41
      q4b: ["12"], // Output 21: work backwards: 21√ó3=63, -15=48, √∑4=12
      q4c: ["-15"], // x = (4x+15)/3, 3x = 4x+15, -x = 15, x = -15. Verify: -15√ó4=-60, +15=-45, √∑3=-15. ‚úì
      q5a: ["-1"], // 6(1) - 7 = -1
      q5b: ["11"], // 6(3) - 7 = 11
      q5c: ["41"], // 6(8) - 7 = 41
      q5d: ["65"], // 6(12) - 7 = 65
      
      // Page 5 (5 marks)
      q6a: ["564"],
      q6b: ["415"],
      q6c: ["988"], // Max M (564) + Max N (424) = 988
      q6d: ["131"], // Min M (555) - Max N (424) = 131
      q7a: ["48"], // 3400/850 √ó 12 = 4 √ó 12 = 48
      q7b: ["4.25"], // 60/12 √ó 850 = 5 √ó 850 = 4250cm¬≥ = 4.25 litres
      
      // Page 6 (5 marks)
      q8a: ["90"], // 18 √ó 5 = 90
      q8b: ["20.5"], // (90 + 33) / 6 = 123/6 = 20.5
      q9a: ["44"], // Isosceles: 68 + 68 + C = 180, C = 44
      q9b: ["44"], // 62 + 74 + A = 180, A = 44
      q9c: ["155"], // 360 - 110 - 95 = 155
      
      // Page 7 (6 marks)
      q10a: ["true"],
      q10b: ["true"], // e.g., 1 is both triangular and square
      q10c: ["true"], // (2n + 2m)/2 = n + m which is even
      q10d: ["true"], // odd √ó odd = odd
      q11a: ["153"], // 180 √ó 0.85 = 153
      q11b: ["137.70", "137.7"], // 153 √ó 0.9 = 137.70
      
      // Page 8 (5 marks)
      q12a: ["45"], // 6+10+8+12+9 = 45
      q12b: ["12"], // (12+9+15)/3 = 36/3 = 12
      q12c: ["189"], // Weekdays: 45√ó2=90, Weekends: 33√ó3=99, Total: 189
      q13a: ["108"], // 45% of 240 = 108
      q13b: ["240"], // 36/0.15 = 240
      
      // Page 9 (6 marks)
      q14a: ["95"], // Double and add 1: 47√ó2+1=95
      q14b: ["103"], // 5(20) + 3 = 103
      q14c: ["4n - 1", "4n-1"], // 3,7,11,15,19... difference is 4, starts at 3 which is 4(1)-1
      q15a: ["5"], // 2 triangular ends + 3 rectangular faces
      q15b: ["8"], // 48/6 = 8
      q15c: ["8"], // Regular octagon has 8 lines of symmetry
      
      // Page 10 (4 marks)
      q16a1: ["2"], 
      q16a2: ["7"], // 08:15 to 10:22 = 2h 7min
      q16b: ["9", "10"], // Morning: 08:58 to 09:37 = 39min, Afternoon: 14:20 to 15:08 = 48min, Difference = 9min
      q16c1: ["4"],
      q16c2: ["5"], // Arrive 09:37, leave 13:42 = 4h 5min
      q16d: ["106"], // 133 √ó 0.8 = 106.4, round to 106
      
      // Page 11 (3 marks)
      q17a: ["8"], // Perimeter: 2(x+2) + 2(4x-4) = 4(18), 2x+4+8x-8=72, 10x-4=72, 10x=76, x=7.6... Still not clean. Change to: 10x=72+4=76... Wait, with (x+2) and (4x-4): 10x-4=72 gives x=7.6. Let me try different numbers. Actually change Shape 2 to 19: 10x-4=76, x=8.
      q17b: ["9"], // 6(4y) = 18√ó12, 24y = 216, y = 9
      q17c: ["16"], // 7m - 5 = 6m + 11, m = 16
      
      // Page 12 (7 marks)
      q18a: ["17"], // 391/23 = 17
      q18b: ["15"], // x¬≤ = 15x, x = 15
      q19a: ["0.875"],
      q19b: ["3/4"], // 5/7 ‚âà 0.714, 3/4 = 0.75
      q19c: ["5/8, 0.6, 2/3"], // 5/8=0.625, 0.6, 2/3‚âà0.667
      q20a: ["120"], // (x/8) + 12 = 27, x/8 = 15, x = 120
      q20b: ["4", "9"], // 5_4: Try 504: 504√∑6=84‚úì, 504√∑9=56‚úì. Try 594: 594√∑6=99‚úì, 594√∑9=66‚úì. Wait, 504√∑9=56 not clean. Let me verify: 504=56√ó9=504‚úì. So both 0 and 9 work, but also check 544: sum=13 not divisible by 3. Actually I should check which 5_4 numbers are divisible by both. For divisible by 9, sum of digits must be divisible by 9: 5+_+4=9+_ must equal 9,18,or 27. So _=0 or _=9. For divisible by 6: must be even (4 at end is even‚úì) and divisible by 3. So _ could be 0,3,6,9 for divisibility by 3. Intersection: 0 or 9. But which is THE answer? Let me check: 504√∑6=84‚úì, 504√∑9=56‚úì. Both work! I'll accept both.
    };
    
    const pageMarks = {
      1: ["q1a", "q1b", "q1c", "q1d", "q1e", "q1f", "q1g"],
      2: ["q2a", "q2b", "q2c", "q2d", "q2e"],
      3: ["q3a", "q3b", "q3c1", "q3c2", "q3d", "q3e", "q3f"],
      4: ["q4a", "q4b", "q4c", "q5a", "q5b", "q5c", "q5d"],
      5: ["q6a", "q6b", "q6c", "q6d", "q7a", "q7b"],
      6: ["q8a", "q8b", "q9a", "q9b", "q9c"],
      7: ["q10a", "q10b", "q10c", "q10d", "q11a", "q11b"],
      8: ["q12a", "q12b", "q12c", "q13a", "q13b"],
      9: ["q14a", "q14b", "q14c", "q15a", "q15b", "q15c"],
      10: ["q16a1", "q16a2", "q16b", "q16c1", "q16c2", "q16d"],
      11: ["q17a", "q17b", "q17c"],
      12: ["q18a", "q18b", "q19a", "q19b", "q19c", "q20a", "q20b"]
    };
    
    function startExam() {
      document.getElementById('startScreen').style.display = 'none';
      document.getElementById('examContainer').classList.add('active');
      
      // Start timer
      timerInterval = setInterval(updateTimer, 1000);
      updateTimer();
    }
    
    function updateTimer() {
      const minutes = Math.floor(timeRemaining / 60);
      const seconds = timeRemaining % 60;
      
      const display = `Time Remaining: ${minutes}:${seconds.toString().padStart(2, '0')}`;
      const timerEl = document.getElementById('timer');
      timerEl.textContent = display;
      
      if (timeRemaining <= 300) { // Last 5 minutes
        timerEl.classList.add('warning');
      }
      
      if (timeRemaining <= 0) {
        clearInterval(timerInterval);
        alert('Time is up! Please finish your exam.');
        timerEl.textContent = 'Time is up!';
      } else {
        timeRemaining--;
      }
    }
    
    function checkAnswer(questionId, userAnswer) {
      const correctAnswers = answers[questionId];
      if (!correctAnswers) return false;
      
      const cleaned = userAnswer.trim().toLowerCase().replace(/\s+/g, '');
      
      return correctAnswers.some(ans => {
        const cleanedAns = ans.toLowerCase().replace(/\s+/g, '');
        return cleaned === cleanedAns;
      });
    }
    
    function finishExam() {
      clearInterval(timerInterval);
      
      const timeTaken = 60 * 60 - timeRemaining;
      const minutesTaken = Math.floor(timeTaken / 60);
      const secondsTaken = timeTaken % 60;
      
      const answeredCount = countAnsweredQuestions();
      
      if (answeredCount < 40 && !confirm(`You've answered ${answeredCount} out of ~60 questions. Are you sure you want to finish?`)) {
        // Resume timer
        timerInterval = setInterval(updateTimer, 1000);
        return;
      }
      
      // Grade the exam
      const results = gradeExam();
      showResults(results, minutesTaken, secondsTaken);
    }
    
    function gradeExam() {
      let totalCorrect = 0;
      let totalAnswered = 0;
      const pageScores = {};
      const questionResults = {};
      
      // Grade each question
      Object.keys(answers).forEach(questionId => {
        const input = document.getElementById(questionId);
        if (input) {
          const userAnswer = input.value;
          if (userAnswer && userAnswer.trim()) {
            totalAnswered++;
            const isCorrect = checkAnswer(questionId, userAnswer);
            if (isCorrect) {
              totalCorrect++;
              input.style.borderColor = '#10b981';
              input.style.background = '#d1fae5';
            } else {
              input.style.borderColor = '#ef4444';
              input.style.background = '#fee2e2';
            }
            questionResults[questionId] = {
              correct: isCorrect,
              userAnswer: userAnswer,
              correctAnswer: answers[questionId][0]
            };
          }
        }
      });
      
      // Calculate page scores
      Object.keys(pageMarks).forEach(page => {
        const questions = pageMarks[page];
        let pageCorrect = 0;
        let pageTotal = questions.length;
        
        questions.forEach(qId => {
          if (questionResults[qId] && questionResults[qId].correct) {
            pageCorrect++;
          }
        });
        
        pageScores[page] = {
          correct: pageCorrect,
          total: pageTotal
        };
      });
      
      return {
        totalCorrect,
        totalAnswered,
        totalQuestions: Object.keys(answers).length,
        pageScores,
        questionResults
      };
    }
    
    function showResults(results, minutes, seconds) {
      const percentage = Math.round((results.totalCorrect / results.totalQuestions) * 100);
      
      let message = '';
      if (percentage >= 85) {
        message = 'üåü Outstanding! Excellent work!';
      } else if (percentage >= 70) {
        message = 'üéâ Great job! Well done!';
      } else if (percentage >= 55) {
        message = 'üëç Good effort! Keep practicing!';
      } else {
        message = 'üí™ Keep working - you\'ll improve!';
      }
      
      let pageBreakdown = '<h3 style="margin-top: 1.5rem;">Score by Page:</h3><div style="display: grid; gap: 0.5rem;">';
      
      Object.keys(results.pageScores).forEach(page => {
        const score = results.pageScores[page];
        const percent = Math.round((score.correct / score.total) * 100);
        const color = percent >= 70 ? '#10b981' : percent >= 50 ? '#f59e0b' : '#ef4444';
        
        pageBreakdown += `
          <div style="display: flex; justify-content: space-between; padding: 0.5rem; background: #f9fafb; border-radius: 6px; border-left: 4px solid ${color};">
            <span><strong>Page ${page}</strong></span>
            <span>${score.correct}/${score.total} (${percent}%)</span>
          </div>
        `;
      });
      
      pageBreakdown += '</div>';
      
      const resultHTML = `
        <div style="background: white; padding: 2rem; border-radius: 12px; margin-top: 1rem;">
          <h2 style="color: #3b82f6; text-align: center;">üìä Exam Results</h2>
          
          <div style="text-align: center; margin: 1.5rem 0;">
            <div style="font-size: 3rem; font-weight: bold; color: #3b82f6;">
              ${results.totalCorrect}/${results.totalQuestions}
            </div>
            <div style="font-size: 1.3rem; color: #6b7280; margin-top: 0.5rem;">
              ${percentage}% Correct
            </div>
            <div style="font-size: 1.2rem; color: #10b981; margin-top: 1rem;">
              ${message}
            </div>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin: 2rem 0;">
            <div style="padding: 1rem; background: #f0f4f8; border-radius: 8px; text-align: center;">
              <div style="font-size: 1.5rem; font-weight: bold; color: #3b82f6;">${results.totalCorrect}</div>
              <div style="font-size: 0.9rem; color: #6b7280;">Correct</div>
            </div>
            <div style="padding: 1rem; background: #f0f4f8; border-radius: 8px; text-align: center;">
              <div style="font-size: 1.5rem; font-weight: bold; color: #ef4444;">${results.totalQuestions - results.totalCorrect}</div>
              <div style="font-size: 0.9rem; color: #6b7280;">Incorrect</div>
            </div>
            <div style="padding: 1rem; background: #f0f4f8; border-radius: 8px; text-align: center;">
              <div style="font-size: 1.5rem; font-weight: bold; color: #f59e0b;">${minutes}:${seconds.toString().padStart(2, '0')}</div>
              <div style="font-size: 0.9rem; color: #6b7280;">Time Taken</div>
            </div>
          </div>
          
          ${pageBreakdown}
          
          <div style="margin-top: 2rem; text-align: center;">
            <p style="color: #6b7280; margin-bottom: 1rem;">
              ‚úÖ Correct answers are highlighted in <span style="color: #10b981; font-weight: bold;">green</span><br>
              ‚ùå Incorrect answers are highlighted in <span style="color: #ef4444; font-weight: bold;">red</span><br>
              Scroll up to review your answers!
            </p>
            
            <button class="btn btn-primary" onclick="location.reload()">Try Again</button>
            <button class="btn btn-secondary" onclick="location.href='11plus.html'">Back to Practice Quiz</button>
          </div>
        </div>
      `;
      
      // Insert results at top of page
      const container = document.querySelector('.container');
      const resultsDiv = document.createElement('div');
      resultsDiv.innerHTML = resultHTML;
      container.insertBefore(resultsDiv, container.firstChild);
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    function countAnsweredQuestions() {
      const inputs = document.querySelectorAll('input[type="text"], input[type="number"], select');
      let count = 0;
      inputs.forEach(input => {
        if (input.value && input.value.trim() !== '') {
          count++;
        }
      });
      return count;
    }
    
    // Auto-save answers to localStorage
    setInterval(() => {
      const inputs = document.querySelectorAll('input[type="text"], input[type="number"], select');
      const answers = {};
      inputs.forEach(input => {
        if (input.id) {
          answers[input.id] = input.value;
        }
      });
      localStorage.setItem('mathsPracticeNov30', JSON.stringify(answers));
    }, 5000); // Save every 5 seconds
    
    // Load saved answers on page load
    window.addEventListener('load', () => {
      const saved = localStorage.getItem('mathsPracticeNov30');
      if (saved) {
        const answers = JSON.parse(saved);
        Object.keys(answers).forEach(id => {
          const input = document.getElementById(id);
          if (input) {
            input.value = answers[id];
          }
        });
      }
    });
  </script>
</body>
</html>

